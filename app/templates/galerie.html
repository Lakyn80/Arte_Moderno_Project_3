{% extends "layout.html" %}
{% block title %}Galerie{% endblock %}

{% block content %}
<h1 class="gallery-heading">Galerie</h1>

<div class="gallery-container">
  {% for product in products %}
  <div class="gallery-item {% if loop.index % 2 == 0 %}reverse{% endif %}">
    <div class="gallery-image">
      <div class="image-frame">
        <img src="{{ product.get_image_url() }}" alt="{{ product.name }}">
      </div>
    </div>
    <div class="gallery-info">
      <h3>{{ product.name }}</h3>
      <p class="gallery-description">{{ product.description or '≈Ω√°dn√Ω popis nen√≠ dostupn√Ω' }}</p>
      <p class="gallery-price"><strong>{{ product.price }} Kƒç</strong></p>
      <p class="gallery-stock">
        {% if product.stock > 0 %}
          <strong>Skladem: {{ product.stock }} kus(≈Ø)</strong>
        {% else %}
          <strong style="color: red;">Vyprod√°no</strong>
        {% endif %}
      </p>
      <button class="buy-button" data-product-id="{{ product.id }}" {% if product.stock == 0 %}disabled{% endif %}>
        üõí Koupit
      </button>
    </div>
  </div>
  {% else %}
  <p class="empty-gallery-message">Zat√≠m zde nejsou ≈æ√°dn√© produkty.</p>
  {% endfor %}
</div>

<script src="{{ url_for('static', filename='js/cart.js') }}"></script>
{% endblock %}
